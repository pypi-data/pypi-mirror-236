from _typeshed import Incomplete
from conans import DEFAULT_REVISION_V1 as DEFAULT_REVISION_V1
from conans.client import migrations_settings as migrations_settings
from conans.client.cache.cache import ClientCache as ClientCache
from conans.client.cache.remote_registry import migrate_registry_file as migrate_registry_file
from conans.client.conf.config_installer import _ConfigOrigin as _ConfigOrigin, _save_configs as _save_configs
from conans.client.rest.cacert import cacert as cacert, cacert_default as cacert_default
from conans.client.tools import replace_in_file as replace_in_file
from conans.errors import ConanException as ConanException
from conans.migrations import Migrator as Migrator
from conans.model.manifest import FileTreeManifest as FileTreeManifest
from conans.model.package_metadata import PackageMetadata as PackageMetadata
from conans.model.ref import ConanFileReference as ConanFileReference, PackageReference as PackageReference
from conans.model.version import Version as Version
from conans.paths import CACERT_FILE as CACERT_FILE, CONANFILE as CONANFILE, EXPORT_SOURCES_TGZ_NAME as EXPORT_SOURCES_TGZ_NAME, EXPORT_TGZ_NAME as EXPORT_TGZ_NAME, PACKAGE_METADATA as PACKAGE_METADATA, PACKAGE_TGZ_NAME as PACKAGE_TGZ_NAME
from conans.paths.package_layouts.package_cache_layout import PackageCacheLayout as PackageCacheLayout
from conans.util.files import list_folder_subdirs as list_folder_subdirs, load as load, save as save

class ClientMigrator(Migrator):
    cache_folder: Incomplete
    def __init__(self, cache_folder, current_version, out) -> None: ...
    def _update_settings_yml(self, cache, old_version) -> None: ...
    def _make_migrations(self, old_version) -> None: ...

def _get_refs(cache): ...
def _get_prefs(layout): ...
def remove_buggy_cacert(cache, out) -> None: ...
def migrate_tgz_location(cache, out) -> None: ...
def migrate_localdb_refresh_token(cache, out) -> None: ...
def _migrate_full_metadata(cache, out) -> None: ...
def _migrate_create_metadata(cache, out) -> None: ...
def _migrate_lock_files(cache, out) -> None: ...
def migrate_config_install(cache) -> None: ...
def migrate_to_default_profile(conf_path, default_profile_path) -> None: ...
def migrate_plugins_to_hooks(cache, output: Incomplete | None = ...) -> None: ...
def migrate_editables_use_conanfile_name(cache) -> None: ...
