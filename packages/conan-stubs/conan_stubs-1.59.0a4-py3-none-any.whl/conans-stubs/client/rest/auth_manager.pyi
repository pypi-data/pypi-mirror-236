from _typeshed import Incomplete
from conans.client.cmd.user import update_localdb as update_localdb
from conans.errors import AuthenticationException as AuthenticationException, ConanException as ConanException, ForbiddenException as ForbiddenException
from conans.util.log import logger as logger

LOGIN_RETRIES: int

class ConanApiAuthManager:
    _user_io: Incomplete
    _rest_client_factory: Incomplete
    _localdb: Incomplete
    def __init__(self, rest_client_factory, user_io, localdb) -> None: ...
    def call_rest_api_method(self, remote, method_name, *args, **kwargs): ...
    def _retry_with_new_token(self, user, remote, method_name, *args, **kwargs): ...
    def _get_rest_client(self, remote): ...
    def _clear_user_tokens_in_db(self, user, remote) -> None: ...
    @staticmethod
    def _get_mac_digest(): ...
    def _authenticate(self, remote, user, password): ...
