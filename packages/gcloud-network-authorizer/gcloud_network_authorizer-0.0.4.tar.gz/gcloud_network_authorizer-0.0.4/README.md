# gcloud-authorizer
Simple python script to authorize dynamic ips for google cloud clusters and sql databases

This is a very simple script that authorizes your current ipv4 ip in the google cloud sql instances and the google cloud kubernetes instances.

There is a lot left on implementation like being able to save many instances and and code quality (yikes).
The data saved is not encrypted yet but it is not the highest priority since this is just basic information which is useless without any authorization data like an access token (which is generated by the gcloud command).


## Installing

```bash
pip install gcloud-network-authorizer
```


## Usage

The base data of the instance, the project name, the zone (conditionally if its a database or a cluster change) and the network name must be first saved and then sent in subsequent calls.

### Sql usage

```bash
authorize_networks sql_save --name=<author_name> --sql_instance=<instance_name> --project_name=<project_name>
```

```bash
authorize_networks authorize_sql
```

### Kubernetes usage

```bash
authorize_networks kubernetes_save --name=<author_name> --kubernetes_instance=<name_of_instance> --project_name=<name_of_project> --zone=<geographical_zone>
```

```bash
authorize_networks authorize_kubernetes
```



