"use strict";(self.webpackChunkopensarlab_frontend=self.webpackChunkopensarlab_frontend||[]).push([[648],{648:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var o=n(684),a=n(697),s=n(861),l=n(778);class i extends l.Widget{constructor(){super(),this.hyperlink=document.createElement("a"),this.hyperlink.text="OpenSARlab Docs",this.hyperlink.href="https://opensarlab-docs.asf.alaska.edu/user-guides/how_to_run_a_notebook/",this.hyperlink.target="blank",this.addClass("opensarlab-doc-link-widget"),this.addClass("opensarlab-frontend-object"),this.node.appendChild(this.hyperlink)}}var r=n(614),d=n(788);async function c(e="",t={}){const n=d.ServerConnection.makeSettings(),o=r.URLExt.join(n.baseUrl,"opensarlab-frontend",e);let a;try{a=await d.ServerConnection.makeRequest(o,t,n)}catch(e){throw new d.ServerConnection.NetworkError(e)}let s=await a.text();if(s.length>0)try{s=JSON.parse(s)}catch(e){console.log("Not a JSON response body.",a)}if(!a.ok)throw new d.ServerConnection.ResponseError(a,s.message||s);return s}class p extends l.Widget{constructor(){super(),this.span=document.createElement("span"),this.addClass("opensarlab-profile-label-widget"),this.addClass("opensarlab-frontend-object"),this.node.appendChild(this.span)}}var b=n(51),f=n.n(b);class h extends l.Widget{constructor(){super(),this.toastrLink=document.createElement("link"),this.toastrLink.rel="stylesheet",this.toastrLink.href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css",this.node.appendChild(this.toastrLink),document.head.insertAdjacentHTML("beforeend","<style>#toast-container>div{opacity:1;}</style>")}makeToast(e){f().options=e.options,e.data.forEach((e=>{f()[e.type](e.message,e.title)}))}notifications(e){c(`opensarlab-oslnotify?type=${e}`).then((e=>{this.makeToast(e)})).catch((e=>{console.log(`Error on GET /opensarlab-frontend/opensarlab-oslnotify.\n${e}`)}))}}const u={id:"opensarlab_frontend:plugin",description:"A JupyterLab extension.",autoStart:!0,optional:[o.ISettingRegistry],activate:(e,t)=>{function n(t){!function(e,t){let n=t.enabled,o=t.rank;const l="opensarlab-frontend-gitcap-btn",i=(0,a.find)(e.shell.widgets("top"),(e=>e.id===l));if(i&&i.dispose(),!n)return void console.log("JupyterLab extension opensarlab-frontend:gifcap_btn is not activated!");const r=new s.ToolbarButton({className:"opensarlab-gitcap-btn",label:"GIF Capture",onClick:()=>{window.open("https://gifcap.dev","_blank")},tooltip:"Create and download screen capture GIFs"});r.id=l,r.addClass("opensarlab-frontend-object"),e.shell.add(r,"top",{rank:o}),console.log("JupyterLab extension opensarlab-frontend:gifcap_btn is activated!")}(e,t.get("gifcap_btn").composite),async function(e,t){let n=t.enabled,o=t.rank;const s="opensarlab-profile-label-widget",l=(0,a.find)(e.shell.widgets("top"),(e=>e.id===s));if(l&&l.dispose(),!n)return void console.log("JupyterLab extension opensarlab-frontend:profile_label is not activated!");let i=null;try{i=await c("opensarlab-profile-label"),console.log(i)}catch(e){console.error(`Error on GET /opensarlab-frontend/opensarlab-profile-label.\n${e}`)}const r=new p;r.id=s,r.span.innerText=i.data,e.shell.add(r,"top",{rank:o}),console.log("JupyterLab extension opensarlab-frontend:profile_label is activated!")}(e,t.get("profile_label").composite),function(e,t){let n=t.enabled,o=t.rank;const s="opensarlab-doc-link-widget",l=(0,a.find)(e.shell.widgets("top"),(e=>e.id===s));if(l&&l.dispose(),!n)return void console.log("JupyterLab extension opensarlab-frontend:doc_link is not activated!");const r=new i;r.id=s,e.shell.add(r,"top",{rank:o}),console.log("JupyterLab extension opensarlab-frontend:doc_link is activated!")}(e,t.get("doc_link").composite),function(e,t){let n=t.enabled,o=t.rank;const l="opensarlab-controlbtn",i=(0,a.find)(e.shell.widgets("top"),(e=>e.id===l));if(i&&i.dispose(),!n)return void console.log("JupyterLab extension opensarlab-frontend:controlbtn is not activated!");const r=new s.ToolbarButton({className:"opensarlab-controlbtn",label:"Shutdown and Logout Page",onClick:()=>{window.location.href="/hub/home"},tooltip:"Hub Control Panel: A place to stop the server and logout"});r.id=l,r.addClass("opensarlab-frontend-object"),e.shell.add(r,"top",{rank:o}),console.log("JupyterLab extension opensarlab-frontend:controlbtn is activated!")}(e,t.get("controlbtn").composite),function(e,t){let n=t.enabled,o=t.note_type;const s="opensarlab-notify-widget",l=(0,a.find)(e.shell.widgets("top"),(e=>e.id===s));if(l&&l.dispose(),!n)return void console.log("JupyterLab extension opensarlab-frontend:oslnotify is not activated!");const i=new h;i.id=s,i.notifications(o),e.shell.add(i,"top",{rank:1999}),console.log("JupyterLab extension opensarlab-frontend:oslnotify is activated!")}(e,t.get("oslnotify").composite)}t&&Promise.all([e.restored,t.load(u.id)]).then((([,e])=>{n(e),e.changed.connect(n)})),console.log("JupyterLab extension opensarlab_frontend is fully operational!")}},g=u}}]);